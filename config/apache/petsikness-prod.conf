<VirtualHost *:80>
    ServerName petsikness.sikwow.com
    ServerAdmin admin@sikwow.com

    # Logs
    ErrorLog /opt/petsikness/logs/apache-prod-error.log
    CustomLog /opt/petsikness/logs/apache-prod-access.log combined

    # Proxy a Next.js producci√≥n (puerto 3003)
    ProxyPreserveHost On
    ProxyPass / http://localhost:3003/
    ProxyPassReverse / http://localhost:3003/

    # Headers seguros
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-Content-Type-Options "nosniff"
    Header always set Referrer-Policy "strict-origin-when-cross-origin"

    # Redirigir a HTTPS
    RewriteCond %{SERVER_NAME} =petsikness.sikwow.com
    RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]
</VirtualHost>
